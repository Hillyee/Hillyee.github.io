<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>å­¦ä¹ Vuex | Hillyee-blog</title><meta name="keywords" content="vue3,vuex"><meta name="author" content="Hillyee"><meta name="copyright" content="Hillyee"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Vuexçš„çŠ¶æ€ç®¡ç† vuexä»‹ç»   ä»€ä¹ˆæ˜¯çŠ¶æ€ç®¡ç†ï¼Ÿ åº”ç”¨ç¨‹åºçš„å„ç§æ•°æ®ä¿å­˜åˆ°æŸä¸ªä½ç½®è¿›è¡Œç®¡ç†    â€‹	 stateï¼šæ•°æ®	viewï¼šæœ€ç»ˆæ¨¡å—æ¸²æŸ“æˆDOM	actionsï¼šä¿®æ”¹stateçš„è¡Œä¸ºäº‹ä»¶   å¤æ‚çš„çŠ¶æ€ç®¡ç† å¤šä¸ªç»„ä»¶å…±äº«çŠ¶æ€   Vuexçš„çŠ¶æ€ç®¡ç† å°†ç»„ä»¶çš„å†…éƒ¨çŠ¶æ€æŠ½ç¦»å‡ºæ¥    Vuexä½¿ç”¨å•ä¸€çŠ¶æ€æ ‘ SSOTï¼šSingle Source of Truthï¼Œå•ä¸€æ•°æ®æº æ¯ä¸ªåº”ç”¨ä»…ä»…"><meta property="og:type" content="article"><meta property="og:title" content="å­¦ä¹ Vuex"><meta property="og:url" content="https://hillyee.github.io/2022/04/07/%E5%AD%A6%E4%B9%A0Vuex/index.html"><meta property="og:site_name" content="Hillyee-blog"><meta property="og:description" content="Vuexçš„çŠ¶æ€ç®¡ç† vuexä»‹ç»   ä»€ä¹ˆæ˜¯çŠ¶æ€ç®¡ç†ï¼Ÿ åº”ç”¨ç¨‹åºçš„å„ç§æ•°æ®ä¿å­˜åˆ°æŸä¸ªä½ç½®è¿›è¡Œç®¡ç†    â€‹	 stateï¼šæ•°æ®	viewï¼šæœ€ç»ˆæ¨¡å—æ¸²æŸ“æˆDOM	actionsï¼šä¿®æ”¹stateçš„è¡Œä¸ºäº‹ä»¶   å¤æ‚çš„çŠ¶æ€ç®¡ç† å¤šä¸ªç»„ä»¶å…±äº«çŠ¶æ€   Vuexçš„çŠ¶æ€ç®¡ç† å°†ç»„ä»¶çš„å†…éƒ¨çŠ¶æ€æŠ½ç¦»å‡ºæ¥    Vuexä½¿ç”¨å•ä¸€çŠ¶æ€æ ‘ SSOTï¼šSingle Source of Truthï¼Œå•ä¸€æ•°æ®æº æ¯ä¸ªåº”ç”¨ä»…ä»…"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://vuex.vuejs.org/flow.png"><meta property="article:published_time" content="2022-04-07T03:27:35.000Z"><meta property="article:modified_time" content="2022-04-07T04:34:55.638Z"><meta property="article:author" content="Hillyee"><meta property="article:tag" content="vue3"><meta property="article:tag" content="vuex"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://vuex.vuejs.org/flow.png"><link rel="shortcut icon" href="https://img2.baidu.com/it/u=2994714379,3709164052&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=506"><link rel="canonical" href="https://hillyee.github.io/2022/04/07/%E5%AD%A6%E4%B9%A0Vuex/"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload='this.media="all"'><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"search.xml",languages:{hits_empty:"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}"}},translate:void 0,noticeOutdate:void 0,highlight:{plugin:"highlighjs",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:!1},copy:{success:"å¤åˆ¶æˆåŠŸ",error:"å¤åˆ¶é”™è¯¯",noSupport:"æµè§ˆå™¨ä¸æ”¯æŒ"},relativeDate:{homepage:!1,post:!1},runtime:"",date_suffix:{just:"åˆšåˆš",min:"åˆ†é’Ÿå‰",hour:"å°æ—¶å‰",day:"å¤©å‰",month:"ä¸ªæœˆå‰"},copyright:void 0,lightbox:"fancybox",Snackbar:void 0,source:{justifiedGallery:{js:"https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js",css:"https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css"}},isPhotoFigcaption:!1,islazyload:!1,isAnchor:!1}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"å­¦ä¹ Vuex",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2022-04-07 12:34:55"}</script><noscript><style type="text/css">#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(e=>{e.saveToLocal={set:function(e,t,o){if(0!==o){const a=new Date;o=864e5*o,t={value:t,expiry:a.getTime()+o};localStorage.setItem(e,JSON.stringify(t))}},get:function(e){var t=localStorage.getItem(e);if(t){t=JSON.parse(t);const o=new Date;if(!(o.getTime()>t.expiry))return t.value;localStorage.removeItem(e)}}},e.getScript=a=>new Promise((t,e)=>{const o=document.createElement("script");o.src=a,o.async=!0,o.onerror=e,o.onload=o.onreadystatechange=function(){var e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(o.onload=o.onreadystatechange=null,t())},document.head.appendChild(o)}),e.activateDarkMode=function(){document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},e.activateLightMode=function(){document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};e=saveToLocal.get("theme"),"dark"===e?activateDarkMode():"light"===e&&activateLightMode(),e=saveToLocal.get("aside-status");void 0!==e&&("hide"===e?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><meta name="generator" content="Hexo 6.1.0"><link rel="alternate" href="/atom.xml" title="Hillyee-blog" type="application/atom+xml"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://img0.baidu.com/it/u=752629441,1211736544&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=500&amp;h=500" onerror='onerror=null,src="/img/friend_404.gif"' alt="avatar"></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">19</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">8</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">7</div></a></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> ğŸ™†é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fas fa-list"></i><span> ğŸ¹ç›®å½•</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> ğŸ™ˆåˆ†ç±»</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> ğŸ±æ ‡ç­¾</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> ğŸŒæ—¶é—´è½´</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> ğŸ¥©å…³äº</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url(https://vuex.vuejs.org/flow.png)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Hillyee-blog</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> æœç´¢</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> ğŸ™†é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fas fa-list"></i><span> ğŸ¹ç›®å½•</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> ğŸ™ˆåˆ†ç±»</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> ğŸ±æ ‡ç­¾</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> ğŸŒæ—¶é—´è½´</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> ğŸ¥©å…³äº</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">å­¦ä¹ Vuex</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2022-04-07T03:27:35.000Z" title="å‘è¡¨äº 2022-04-07 11:27:35">2022-04-07</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2022-04-07T04:34:55.638Z" title="æ›´æ–°äº 2022-04-07 12:34:55">2022-04-07</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%B7%B1%E5%85%A5Vue3-Typescript%E5%AD%A6%E4%B9%A0%E2%9A%A1/">æ·±å…¥Vue3+Typescriptå­¦ä¹ âš¡</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">å­—æ•°æ€»è®¡:</span><span class="word-count">2.8k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»æ—¶é•¿:</span><span>12åˆ†é’Ÿ</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" data-flag-title="å­¦ä¹ Vuex"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="Vuexçš„çŠ¶æ€ç®¡ç†">Vuexçš„çŠ¶æ€ç®¡ç†</h2><h3 id="vuexä»‹ç»">vuexä»‹ç»</h3><ul><li><p>ä»€ä¹ˆæ˜¯çŠ¶æ€ç®¡ç†ï¼Ÿ</p><p>åº”ç”¨ç¨‹åºçš„å„ç§æ•°æ®ä¿å­˜åˆ°æŸä¸ªä½ç½®è¿›è¡Œç®¡ç†</p></li></ul><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a797ec53c22b488b8b169c6c80daab85~tplv-k3u1fbpfcp-watermark.image?" alt="image.png" style="zoom:67%"><p>â€‹ stateï¼šæ•°æ®	viewï¼šæœ€ç»ˆæ¨¡å—æ¸²æŸ“æˆDOM	actionsï¼šä¿®æ”¹stateçš„è¡Œä¸ºäº‹ä»¶</p><ul><li><p>å¤æ‚çš„çŠ¶æ€ç®¡ç†</p><p>å¤šä¸ªç»„ä»¶å…±äº«çŠ¶æ€</p></li><li><p>Vuexçš„çŠ¶æ€ç®¡ç†</p><p>å°†ç»„ä»¶çš„å†…éƒ¨çŠ¶æ€æŠ½ç¦»å‡ºæ¥</p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a54e89c5272448eb9c1850ee729526cb~tplv-k3u1fbpfcp-watermark.image?" alt="image.png" style="zoom:67%"></li><li><p>Vuexä½¿ç”¨å•ä¸€çŠ¶æ€æ ‘</p><p>SSOTï¼šSingle Source of Truthï¼Œå•ä¸€æ•°æ®æº</p><p>æ¯ä¸ªåº”ç”¨ä»…ä»…åŒ…å«ä¸€ä¸ªstoreå®ä¾‹</p></li></ul><h4 id="å®‰è£…">å®‰è£…</h4><p><code>npm install vuex@next</code></p><p>ä½¿ç”¨vuex4.xï¼Œéœ€è¦æ·»åŠ nextæŒ‡å®šç‰ˆæœ¬</p><h4 id="ä½¿ç”¨">ä½¿ç”¨</h4><h4 id="åˆ›å»ºstoreï¼ˆä»“åº“ï¼‰">åˆ›å»ºstoreï¼ˆä»“åº“ï¼‰</h4><ul><li><p>Vuexå’Œå•çº¯çš„å…¨å±€å¯¹è±¡æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ</p><p>Vuexçš„çŠ¶æ€å­˜å‚¨æ˜¯å“åº”å¼çš„</p></li><li><p>ä¸èƒ½ç›´æ¥æ”¹å˜storeä¸­çš„çŠ¶æ€</p><p>æ”¹å˜storeä¸­çš„çŠ¶æ€çš„å”¯ä¸€é€”å¾„å°±æ˜¯<strong>æäº¤(commit) mutation</strong></p><p>è¿™æ ·æ–¹ä¾¿æˆ‘ä»¬è·Ÿè¸ªæ¯ä¸€ä¸ªçŠ¶æ€çš„å˜åŒ–ï¼Œä»è€Œè®©æˆ‘ä»¬èƒ½å¤Ÿé€šè¿‡ä¸€äº›å·¥å…·å¸®åŠ©æˆ‘ä»¬æ›´å¥½çš„ç®¡ç†åº”ç”¨çš„çŠ¶æ€</p></li><li><p>å…·ä½“æ­¥éª¤ï¼š</p><ol><li>store/index</li></ol><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createStore &#125; <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªæ–°çš„storeå®ä¾‹</span></span><br><span class="line"><span class="keyword">const</span> store = <span class="title function_">createStore</span>(&#123;</span><br><span class="line">  <span class="title function_">state</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">count</span>: <span class="number">0</span> <span class="comment">// æ•°æ®</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">mutations</span>: &#123; <span class="comment">// æ–¹æ³•</span></span><br><span class="line">    <span class="title function_">increment</span>(<span class="params">state</span>) &#123;</span><br><span class="line">       state.<span class="property">counter</span>++</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">decrement</span>(<span class="params">state</span>) &#123;</span><br><span class="line">       state.<span class="property">counter</span>--</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store</span><br></pre></td></tr></table></figure><ol start="2"><li>åœ¨å…¨å±€å°† store å®ä¾‹ä½œä¸ºæ’ä»¶å®‰è£…</li></ol><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&#x27;./store/index&#x27;</span></span><br><span class="line"><span class="title function_">createApp</span>(<span class="title class_">App</span>).<span class="title function_">use</span>(store).<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure></li></ul><h3 id="ç»„ä»¶ä¸­ä½¿ç”¨store">ç»„ä»¶ä¸­ä½¿ç”¨store</h3><h3 id="state">state</h3><p>ä½¿ç”¨storeä¸­çš„stateæ•°æ®</p><ul><li><p>åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;$store.state.count&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>åœ¨options api ä¸­ä½¿ç”¨</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="attr">computed</span>: &#123;</span><br><span class="line">    <span class="title function_">counter</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">state</span>.<span class="property">counter</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>åœ¨setupä¸­ä½¿ç”¨</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">setup</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> store = <span class="title function_">useStore</span>()</span><br><span class="line">    <span class="keyword">const</span> counter = store.<span class="property">state</span>.<span class="property">counter</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="mapState">mapState</h4><p>å¦‚æœéœ€è¦æ‹¿stateä¸­çš„å¤šä¸ªæ•°æ®ï¼Œåœ¨å¯ä»¥å€ŸåŠ©è¾…åŠ©å‡½æ•° mapStateï¼Œ</p><ul><li><p>setupä¸­ä½¿ç”¨mapState</p><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒVuexæ²¡æœ‰æä¾›éå¸¸æ–¹ä¾¿çš„çš„ä½¿ç”¨mapStateçš„æ–¹å¼ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿›è¡Œäº†ä¸€ä¸ªå‡½æ•°çš„å°è£…</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h2&gt;Home: &#123;&#123;sCounter&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;Home: &#123;&#123;counter&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;Home: &#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;Home: &#123;&#123;age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;Home: &#123;&#123;height&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; mapState, useStore &#125; from &quot;vuex&quot;</span><br><span class="line">import &#123; computed &#125; from &#x27;vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  // options apiä½¿ç”¨mapState</span><br><span class="line">  computed: &#123;</span><br><span class="line">    // fullName: function() &#123; return xxx&#125;, </span><br><span class="line">    ...mapState([&quot;counter&quot;, &quot;name&quot;])</span><br><span class="line">  &#125;,</span><br><span class="line">  setup() &#123;</span><br><span class="line">    const store = useStore()</span><br><span class="line">    const sCounter = computed(() =&gt; store.state.counter)</span><br><span class="line"></span><br><span class="line">    // å®é™…ä¸Šæ”¾å…¥mapStateè¿™é‡Œæ‹¿åˆ°çš„æ˜¯è¿™æ ·å½¢å¼çš„ä¸€ä¸ªä¸ªå‡½æ•°</span><br><span class="line">    // &#123;counter: function(), name: function() ...&#125;</span><br><span class="line">    const storeStateFns = mapState([&quot;counter&quot;, &quot;name&quot;, &quot;age&quot;, &quot;height&quot;])</span><br><span class="line">    </span><br><span class="line">    // å°è£…ä¸€ä¸ªå‡½æ•°è½¬åŒ–ä¸€ä¸‹,ä¸»è¦æ€æƒ³æ˜¯æŠŠè¿™ä¸€ä¸ªä¸ªçš„å‡½æ•°æ”¾åˆ°computedé‡Œé¢</span><br><span class="line">    // å› ä¸ºcomputedå°±æ˜¯ä¼ å…¥ä¸€ä¸ªå‡½æ•°ï¼Œç„¶åä¼šç»™æˆ‘ä»¬è¿”å›ä¸€ä¸ªref</span><br><span class="line">    // &#123;counter: ref, age: ref, ...&#125;</span><br><span class="line">    const storeState = &#123;&#125;</span><br><span class="line">    Object.keys(storeStateFns).forEach(fnKey =&gt; &#123;</span><br><span class="line">      // å› ä¸ºå†…éƒ¨çš„computedå–æ•°æ®çš„æ—¶å€™æ˜¯é€šè¿‡this.$store...</span><br><span class="line">      // ä½†æˆ‘ä»¬è¿™é‡Œçš„fnæ²¡æœ‰this, undefined.$store æ˜¯é”™çš„</span><br><span class="line">      // ç”¨bindç»™æ¯ä¸ªå‡½æ•°ç»‘å®šthisä¸ºä¸€ä¸ªå¯¹è±¡,é‡Œé¢éœ€è¦æœ‰$storeè¿™ä¸ªå±æ€§</span><br><span class="line">      // &#123;$store: store&#125;</span><br><span class="line">      const fn = storeStateFns[fnKey].bind(&#123; $store: store&#125;)</span><br><span class="line">      // ç„¶åæŠŠå‡½æ•°ä¸€ä¸ªæ–¹æ³•computed, ä»¥é”®å€¼å¯¹çš„æ–¹å¼å­˜å‚¨èµ·æ¥</span><br><span class="line">      storeState[fnKey] = computed(fn)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">      </span><br><span class="line">    return &#123;</span><br><span class="line">      sCounter,</span><br><span class="line">      // æœ€ç»ˆåœ¨è¿™é‡Œç”¨å±•å¼€è¿ç®—ç¬¦å±•å¼€</span><br><span class="line">      ...storeState</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>æŠŠå‡½æ•°çš„å°è£…æŠ½ç¦»åˆ° hooks/useState.js</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; computed &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; mapState, useStore &#125; <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">useState</span>(<span class="params">mapper</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> store = <span class="title function_">useStore</span>()</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è·å–åˆ°å¯¹åº”çš„å¯¹è±¡çš„functions: &#123;name: function, age: function&#125;</span></span><br><span class="line">  <span class="keyword">const</span> storeStateFns = <span class="title function_">mapState</span>(mapper)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å¯¹æ•°æ®è¿›è¡Œè½¬æ¢</span></span><br><span class="line">  <span class="keyword">const</span> storeState = &#123;&#125;</span><br><span class="line">  <span class="title class_">Object</span>.<span class="title function_">keys</span>(storeStateFns).<span class="title function_">forEach</span>(<span class="function"><span class="params">fnKey</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> fn = storeStateFns[fnKey].<span class="title function_">bind</span>(&#123; <span class="attr">$store</span>: store &#125;)</span><br><span class="line">    storeState[fnKey] = <span class="title function_">computed</span>(fn)</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> storeState</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬åœ¨ç»„ä»¶ä½¿ç”¨å°±ä¼šç®€ä¾¿å¾ˆå¤š</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useState &#125; <span class="keyword">from</span> <span class="string">&#x27;../hooks/useState&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="title function_">setup</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> storeState = <span class="title function_">useState</span>([<span class="string">&quot;counter&quot;</span>, <span class="string">&quot;name&quot;</span>, <span class="string">&quot;age&quot;</span>, <span class="string">&quot;height&quot;</span>])</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å½“ç„¶ä¹Ÿå¯ä»¥æ˜¯å¯¹è±¡å½¢å¼(æƒ³è¦é‡å‘½åçš„æ—¶å€™ä½¿ç”¨)</span></span><br><span class="line">    <span class="keyword">const</span> storeState2 = <span class="title function_">useState</span>(&#123;</span><br><span class="line">      <span class="attr">sCounter</span>: <span class="function"><span class="params">state</span> =&gt;</span> state.<span class="property">counter</span>,</span><br><span class="line">      <span class="attr">sName</span>: <span class="function"><span class="params">state</span> =&gt;</span> state.<span class="property">name</span></span><br><span class="line">    &#125;) </span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      ...storeState,</span><br><span class="line">      ...storeState2</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="getters">getters</h3><ul><li><p>getters çš„åŸºæœ¬ä½¿ç”¨</p><p>æŸäº›å±æ€§å¯èƒ½éœ€è¦ç»è¿‡å˜åŒ–åæ‰ä½¿ç”¨ï¼Œï¼ˆå°±åƒstoreä¸­çš„è®¡ç®—å±æ€§ï¼‰</p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a5234df35d8b42a3a105bf9573c66885~tplv-k3u1fbpfcp-watermark.image?" alt="image.png" style="zoom:70%"></li><li><p>getters ç¬¬äºŒä¸ªå‚æ•°</p><p>getterså¯ä»¥æ¥æ”¶ç¬¬2ä¸ªå‚æ•°gettersï¼Œä½¿ç”¨gettersæœ¬èº«çš„å±æ€§</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="attr">getters</span>: &#123;</span><br><span class="line">  <span class="title function_">totalPrice</span>(<span class="params">state, getters</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> state.<span class="property">books</span>.<span class="title function_">reduce</span>(<span class="function">(<span class="params">pre, cur</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> pre + cur.<span class="property">count</span> * cur.<span class="property">price</span></span><br><span class="line">    &#125;, <span class="number">0</span>) + <span class="string">&quot; &quot;</span> + getters.<span class="property">myName</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">myName</span>(<span class="params">state</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> state.<span class="property">name</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>getters çš„è¿”å›å‡½æ•°</p><p>gettersä¸­çš„å‡½æ•°æœ¬èº«ï¼Œå¯ä»¥è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œé‚£ä¹ˆåœ¨ä½¿ç”¨çš„åœ°æ–¹ç›¸å½“äºå¯ä»¥è°ƒç”¨è¿™ä¸ªå‡½æ•°</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">totalPrice</span>(<span class="params">state</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function">(<span class="params">price</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> totalPrice = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">const</span> book <span class="keyword">of</span> state.<span class="property">books</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (book.<span class="property">price</span> &lt; price) <span class="keyword">continue</span></span><br><span class="line">            totalPrice += book.<span class="property">count</span> * book.<span class="property">price</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> totalPrice</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></li></ul><h4 id="mapGetters">mapGetters</h4><p>ä¸mapStateç±»ä¼¼</p><ul><li><p>åœ¨setupä¸­ä½¿ç”¨mapGetters</p><p>å°è£…å¥½çš„ /useGetters</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; computed &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; useStore, mapGetters &#125; <span class="keyword">from</span> <span class="string">&quot;vuex&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">useGetters</span>(<span class="params">mapper</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> store = <span class="title function_">useStore</span>()</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> stateFns = <span class="title function_">mapGetters</span>(mapper)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> state = &#123;&#125;</span><br><span class="line">  <span class="title class_">Object</span>.<span class="title function_">keys</span>(stateFns).<span class="title function_">forEach</span>(<span class="function"><span class="params">fnKey</span> =&gt;</span> &#123;</span><br><span class="line">    state[fnKey] = <span class="title function_">computed</span>(stateFns[fnKey].<span class="title function_">bind</span>(&#123; <span class="attr">$store</span>: store &#125;))</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> state</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ï¼š</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">setup</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> storeGetters = <span class="title function_">useGetters</span>([<span class="string">&quot;nameInfo&quot;</span>, <span class="string">&quot;ageInfo&quot;</span>, <span class="string">&quot;heightInfo&quot;</span>])</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    ...storeGetters</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="å°è£…useMapper">å°è£…useMapper</h3><p>æˆ‘ä»¬å‘ç°å‰é¢ useStateï¼ŒuseGettersçš„é€»è¾‘å¤§éƒ¨åˆ†ç›¸åŒï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å°è£…ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œæ ¹æ®ä½¿ç”¨çš„æ—¶å€™çš„ mapStateè¿˜æ˜¯mapGetters æ¥è°ƒç”¨å‡½æ•°</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; computed &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; useStore &#125; <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// mapFn:ä½¿ç”¨çš„mapXXX</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">useMapper</span>(<span class="params">mapper, mapFn</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> store = <span class="title function_">useStore</span>()</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> storeStateFns = <span class="title function_">mapFn</span>(mapper)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> storeState = &#123;&#125;</span><br><span class="line">  <span class="title class_">Object</span>.<span class="title function_">keys</span>(storeStateFns).<span class="title function_">forEach</span>(<span class="function"><span class="params">fnKey</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> fn = storeStateFns[fnKey].<span class="title function_">bind</span>(&#123; <span class="attr">$store</span>: store &#125;)</span><br><span class="line">    storeState[fnKey] = <span class="title function_">computed</span>(fn)</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> storeState</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1f546da191e74eb8928f81fab5c259b7~tplv-k3u1fbpfcp-watermark.image?" alt="image.png" style="zoom:80%"><h3 id="Mutations">Mutations</h3><p>æ›´æ”¹ Vuex çš„storeä¸­çš„çŠ¶æ€çš„å”¯ä¸€æ–¹æ³•æ˜¯æäº¤mutation</p><ul><li><p>mutations åŸºæœ¬ä½¿ç”¨</p><p>åœ¨storeä¸­å®šä¹‰æ–¹æ³•</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="attr">mutations</span>: &#123;</span><br><span class="line">  <span class="title function_">increment</span>(<span class="params">state</span>) &#123;</span><br><span class="line">    state.<span class="property">counter</span>++</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">decrement</span>(<span class="params">state</span>) &#123;</span><br><span class="line">    state.<span class="property">counter</span>--</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨setupä¸­commitäº‹ä»¶ï¼Œæäº¤çš„æ˜¯mutationsä¸­çš„æ–¹æ³•</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useStore &#125; <span class="keyword">from</span> <span class="string">&quot;vuex&quot;</span></span><br><span class="line"><span class="title function_">setup</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> store = <span class="title function_">useStore</span>()</span><br><span class="line">    store.<span class="title function_">commit</span>(<span class="string">&quot;increment&quot;</span>, xxx) <span class="comment">// å¯ä»¥ä¼ å‚æ•°</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>mutationæºå¸¦æ•°æ®</p><p>å¾ˆå¤šæ—¶å€™æäº¤mutationä¼šæºå¸¦ä¸€äº›æ•°æ®ï¼Œåœ¨mutationä¸­ç¬¬äºŒä¸ªå‚æ•°å¯ä»¥æ¥æ”¶</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="attr">mutations</span>: &#123;</span><br><span class="line">    <span class="title function_">addNumber</span>(<span class="params">state, payload</span>) &#123;</span><br><span class="line">        state.<span class="property">counter</span> += payload</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>payloadä¹Ÿå¯ä»¥æ˜¯å¯¹è±¡ç±»å‹</p><p>æäº¤çš„æ—¶å€™ï¼šå¯ä»¥ç”¨typeï¼ŒæŒ‡å®šæäº¤çš„æ–¹æ³•å</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">$store.<span class="title function_">commit</span>(&#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&quot;addNumber&quot;</span>,</span><br><span class="line">    <span class="attr">count</span>: <span class="number">100</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="attr">mutations</span>: &#123;</span><br><span class="line">    <span class="title function_">addNumber</span>(<span class="params">state, payload</span>) &#123;</span><br><span class="line">        state.<span class="property">counter</span> += payload.<span class="property">count</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>mutation å¸¸é‡ç±»å‹</p><p>ä¸»è¦æ˜¯é¢„é˜²ç²—å¿ƒçš„æ—¶å€™ï¼Œcommitçš„æ–¹æ³•åå­—å’Œmutationå®šä¹‰çš„æ–¹æ³•åä¸ä¸€è‡´</p><ul><li><p>å®šä¹‰å¸¸é‡</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// mutation-types.js</span></span><br><span class="line"><span class="comment">// å®šä¹‰å¸¸é‡</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="variable constant_">INCREMENT_N</span> = <span class="string">&quot;INCREMENT_N&quot;</span></span><br></pre></td></tr></table></figure></li><li><p>storeä¸­ä½¿ç”¨</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="variable constant_">INCREMENT_N</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;../store/mutation-types&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = <span class="title function_">createStore</span>(&#123;</span><br><span class="line">  <span class="title function_">state</span>(<span class="params"></span>) &#123;...&#125;,</span><br><span class="line">  <span class="attr">mutations</span>: &#123;</span><br><span class="line">    [<span class="variable constant_">INCREMENT_N</span>](state, payload) &#123;</span><br><span class="line">      state.<span class="property">counter</span> += payload</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></li><li><p>ç»„ä»¶ä¸­æäº¤äº‹ä»¶çš„æ—¶å€™ä½¿ç”¨</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="variable constant_">INCREMENT_N</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;../store/mutation-types&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="title function_">setup</span>(<span class="params"></span>) &#123;</span><br><span class="line">      ...</span><br><span class="line">      store.<span class="title function_">commit</span>(<span class="variable constant_">INCREMENT_N</span>, <span class="number">10</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li><li><p>mutationé‡è¦åŸåˆ™</p><p>mutation å¿…é¡»æ˜¯åŒæ­¥å‡½æ•°</p><ul><li>è¿™æ˜¯å› ä¸ºdevtoolå·¥å…·ä¼šè®°å½•mutationçš„æ—¥è®°</li><li>æ¯ä¸€æ¡mutationè¢«è®°å½•ï¼Œdevtoolséƒ½éœ€è¦æ•æ‰åˆ°å‰ä¸€çŠ¶æ€å’Œåä¸€çŠ¶æ€çš„å¿«ç…§</li><li>ä½†æ˜¯åœ¨mutationä¸­æ‰§è¡Œå¼‚æ­¥æ“ä½œï¼Œå°±æ— æ³•è¿½è¸ªåˆ°æ•°æ®çš„å˜åŒ–</li><li>æ‰€ä»¥Vuexçš„é‡è¦åŸåˆ™ä¸­è¦æ±‚ mutationå¿…é¡»æ˜¯åŒæ­¥å‡½æ•°ï¼›</li></ul></li></ul><h4 id="mapMutations">mapMutations</h4><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥å€ŸåŠ©äºè¾…åŠ©å‡½æ•°ï¼Œå¸®åŠ©æˆ‘ä»¬å¿«é€Ÿæ˜ å°„åˆ°å¯¹åº”çš„æ–¹æ³•ä¸­</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> mutations = <span class="title function_">mapMutations</span>([<span class="string">&quot;increment&quot;</span>, <span class="string">&quot;decrement&quot;</span>])</span><br><span class="line"><span class="keyword">const</span> mutations2 = <span class="title function_">mapMutations</span>(&#123;</span><br><span class="line">    <span class="attr">addNumber</span>: <span class="variable constant_">ADD_NUMBER</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="actions">actions</h3><ul><li><p>actionæäº¤mutation</p><ul><li><p>actions ç±»ä¼¼äºmutationsï¼Œä½†æ˜¯actionæäº¤çš„æ˜¯mutationï¼Œè€Œä¸æ˜¯ç›´æ¥å˜æ›´çŠ¶æ€</p></li><li><p>actions å¯ä»¥åŒ…å«ä»»æ„<strong>å¼‚æ­¥æ“ä½œ</strong></p></li><li><p>actionsæœ‰ä¸€ä¸ªå¾ˆé‡è¦çš„å‚æ•° <strong>context</strong>ï¼Œé‡Œé¢æœ‰å¾ˆå¤šå±æ€§ï¼Œæˆ‘ä»¬ç”¨çš„æ—¶å€™é™¤äº†context.xxxä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥è§£æ„å‡ºæ¥ä½¿ç”¨</p></li><li><p>ä»contextè·å–<strong>commit</strong>æ–¹æ³•æ¥æäº¤ä¸€ä¸ªmutation</p></li></ul></li><li><p>actionsçš„åˆ†å‘æ“ä½œï¼ˆè§¦å‘actionsä¸­çš„æ–¹æ³•ï¼‰</p><p>åœ¨ç»„ä»¶ä¸­ä½¿ç”¨storeä¸Šçš„<strong>dispatch</strong>è¿›è¡Œåˆ†å‘ï¼Œå¹¶ä¸”å¯ä»¥ä¼ é€’å‚æ•°</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// store.js</span></span><br><span class="line"><span class="attr">mutations</span>: &#123;</span><br><span class="line">    <span class="title function_">increment</span>(<span class="params">state</span>) &#123;</span><br><span class="line">        state.<span class="property">counter</span>++</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">actions</span>: &#123;</span><br><span class="line">    <span class="comment">// 1. å¯ä»¥æ¥æ”¶å‚æ•°</span></span><br><span class="line">    <span class="title function_">incrementAction</span>(<span class="params">context, payload</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(payload)  <span class="comment">// payloadä¸ºæ¥æ”¶åˆ°çš„å‚æ•°</span></span><br><span class="line">        <span class="comment">// æ¨¡æ‹Ÿå¼‚æ­¥ï¼š1sä¹‹åå†æäº¤äº‹ä»¶</span></span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          context.<span class="title function_">commit</span>(<span class="string">&quot;increment&quot;</span>) <span class="comment">// æäº¤mutation</span></span><br><span class="line">        &#125;)</span><br><span class="line">	&#125;,</span><br><span class="line">        <span class="comment">// 2. context çš„å±æ€§</span></span><br><span class="line">    <span class="title function_">decrementAction</span>(<span class="params">&#123; commit, dispatch, state, rootState, getters, rootGetters &#125;</span>) &#123;</span><br><span class="line">      <span class="title function_">commit</span>(<span class="string">&quot;decrement&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ç»„ä»¶çš„setupä¸­</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">increment</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">   <span class="comment">// åˆ†å‘actionsï¼Œå¹¶æºå¸¦å‚æ•°</span></span><br><span class="line">   store.<span class="title function_">dispatch</span>(<span class="string">&quot;incrementAction&quot;</span>, &#123;<span class="attr">count</span>: <span class="number">100</span>&#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦å¤–ï¼Œä¹Ÿå¯ä»¥ä»¥å¯¹è±¡çš„å½¢å¼è¿›è¡Œåˆ†å‘</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ç»„ä»¶çš„setupä¸­</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">increment</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  store.<span class="title function_">dispatch</span>(&#123;</span><br><span class="line">     <span class="attr">type</span>: <span class="string">&quot;incrementAction&quot;</span>,</span><br><span class="line">     <span class="attr">count</span>: <span class="number">100</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="mapActions">mapActions</h4><p>actions ä¹Ÿæœ‰å¯¹åº”çš„è¾…åŠ©å‡½æ•° mapActions</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è¿™æ ·ç”¨ä¸è¡Œ..</span></span><br><span class="line"><span class="keyword">const</span> actions = mapActions[<span class="string">&quot;incrementAction&quot;</span>, <span class="string">&quot;decrementAction&quot;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¹è±¡å†™æ³•(é‡å‘½å)</span></span><br><span class="line"><span class="keyword">const</span> actions2 = <span class="title function_">mapActions</span>(&#123;</span><br><span class="line">  <span class="attr">add</span>: <span class="string">&quot;incrementAction&quot;</span>,</span><br><span class="line">  <span class="attr">sub</span>: <span class="string">&quot;decrementAction&quot;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="actionsçš„å¼‚æ­¥æ“ä½œ">actionsçš„å¼‚æ­¥æ“ä½œ</h4><p>actionså¾ˆå¤šæ—¶å€™æ˜¯å¼‚æ­¥çš„ï¼Œé‚£ä¹ˆå½“æˆ‘ä»¬ç»„ä»¶æ´¾å‘actionsçš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¹Ÿæƒ³æ”¶åˆ°ç»“æœï¼Œæ˜¯è¯·æ±‚æˆåŠŸäº†è¿˜æ˜¯å¤±è´¥äº†ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥åœ¨actionså¯¹åº”æ–¹æ³•ä¸­è¿”å› Promiseï¼Œå¹¶å¯¹æˆåŠŸå¤±è´¥åšå¤„ç†</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="attr">actions</span>: &#123;</span><br><span class="line">   <span class="title function_">getHomeMultidata</span>(<span class="params">context</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        axios.<span class="title function_">get</span>(<span class="string">&quot;http://123.207.32.32:8000/home/multidata&quot;</span>).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(res);</span><br><span class="line">          context.<span class="title function_">commit</span>(<span class="string">&quot;addBannerData&quot;</span>, res.<span class="property">data</span>.<span class="property">data</span>.<span class="property">banner</span>.<span class="property">list</span>)</span><br><span class="line">          <span class="title function_">resolve</span>(<span class="string">&quot;okok&quot;</span>)</span><br><span class="line">        &#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="title function_">reject</span>(err)</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;)</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">onMounted</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> promise = store.<span class="title function_">dispatch</span>(<span class="string">&quot;getHomeMultidata&quot;</span>)</span><br><span class="line">    promise.<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(res);</span><br><span class="line">    &#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(err);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="module">module</h3><h4 id="moduleçš„åŸºæœ¬ä½¿ç”¨">moduleçš„åŸºæœ¬ä½¿ç”¨</h4><p>ä»€ä¹ˆæ˜¯moduleï¼Ÿ</p><ul><li>ç”±äºä½¿ç”¨å•ä¸€çŠ¶æ€æ ‘ï¼Œåº”ç”¨çš„æ‰€æœ‰çŠ¶æ€éƒ½é›†ä¸­åˆ°ä¸€ä¸ªæ¯”è¾ƒå¤§çš„å¯¹è±¡ï¼Œå½“åº”ç”¨å˜å¾—å¤æ‚æ—¶ï¼Œstoreå¯¹è±¡å°±å˜å¾—ç›¸å½“è‡ƒè‚¿ï¼Œä¸åˆ©äºç®¡ç†</li><li>æ‰€ä»¥Vuexå…è®¸æˆ‘ä»¬å°†storeåˆ†æ¨¡å—</li><li>æ¯ä¸ªæ¨¡å—æ‹¥æœ‰è‡ªå·±çš„stateï¼Œmutationï¼Œactionï¼Œgetterï¼Œç”šè‡³æ˜¯åµŒå¥—å­æ¨¡å—</li></ul><p>ä½¿ç”¨ï¼š</p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6c755defa77b4c7fa9c8bd2d4a36217c~tplv-k3u1fbpfcp-watermark.image?" alt="image.png" style="zoom:80%"><ul><li>æ¨¡å—å†…éƒ¨çš„mutationå’Œgetterçš„ç¬¬ä¸€ä¸ªå‚æ•°stateæ˜¯æ¨¡å—çš„å±€éƒ¨çŠ¶æ€å¯¹è±¡</li></ul><h4 id="moduleçš„å‘½åç©ºé—´">moduleçš„å‘½åç©ºé—´</h4><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¨¡å—å†…éƒ¨çš„actionï¼Œmutationä»ç„¶æ˜¯æ³¨å†Œåœ¨å…¨å±€çš„å‘½åç©ºé—´ä¸­çš„</p><p>å¦‚æœå¸Œæœ›æ¨¡å—å…·æœ‰æ›´é«˜çš„å°è£…åº¦å’Œå¤ç”¨æ€§ï¼Œå¯ä»¥åœ¨æ¨¡å—ä¸­æ·»åŠ <code>namespaced: true</code></p><p>ä½¿æ¨¡å—æ›´ç‹¬ç«‹</p><p>ä¹‹åï¼Œå½“æ¨¡å—è¢«æ³¨å†Œåå®ƒçš„æ‰€æœ‰getterã€actionåŠmutationéƒ½ä¼šè‡ªåŠ¨æ ¹æ®æ¨¡å—æ³¨å†Œçš„è·¯å¾„è°ƒæ•´å‘½å</p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/827e0697e09d426699b684bf4bbdc59e~tplv-k3u1fbpfcp-watermark.image?" alt="image.png" style="zoom:67%"><h4 id="moduleä¿®æ”¹æˆ–æ´¾å‘æ ¹ç»„ä»¶">moduleä¿®æ”¹æˆ–æ´¾å‘æ ¹ç»„ä»¶</h4><p>{root: true}</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="attr">actions</span>: &#123;</span><br><span class="line">    <span class="title function_">incrementAction</span>(<span class="params">&#123;commit, dispatch,state&#125;</span>) &#123;</span><br><span class="line">        <span class="title function_">commit</span>(<span class="string">&quot;rootIncrement&quot;</span>, <span class="literal">null</span>, &#123;<span class="attr">root</span>: <span class="literal">true</span>&#125;)</span><br><span class="line">        <span class="title function_">dispatch</span>(<span class="string">&quot;rootIncrementAction&quot;</span>, <span class="literal">null</span>, &#123;<span class="attr">root</span>: <span class="literal">true</span>&#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="moduleçš„è¾…åŠ©å‡½æ•°">moduleçš„è¾…åŠ©å‡½æ•°</h4><p>å†™æ³•ä¸€ï¼šé€šè¿‡å®Œæ•´çš„æ¨¡å—ç©ºé—´åæ¥æŸ¥æ‰¾(ä¸æ˜¯å¾ˆæ¨èä½¿ç”¨)</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="attr">computed</span>: &#123;</span><br><span class="line">  ...<span class="title function_">mapState</span>(&#123;</span><br><span class="line">    <span class="attr">homeCounter</span>: <span class="function"><span class="params">state</span> =&gt;</span> state.<span class="property">home</span>.<span class="property">homeCounter</span>,</span><br><span class="line">  &#125;),</span><br><span class="line">  ...<span class="title function_">mapGetters</span>(&#123;</span><br><span class="line">    <span class="attr">doubleHomeCounter</span>: <span class="string">&quot;home/doubleHomeCounter&quot;</span>,</span><br><span class="line">  &#125;),</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>å†™æ³•äºŒï¼šç¬¬ä¸€ä¸ªå‚æ•°å†™æ¨¡å—åï¼Œç¬¬äºŒä¸ªå‚æ•°å†™å±æ€§</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="attr">computed</span>: &#123;</span><br><span class="line">   ...<span class="title function_">mapState</span>(<span class="string">&quot;home&quot;</span>, [<span class="string">&quot;homeCounter&quot;</span>])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å†™æ³•ä¸‰ï¼š<code>createNamespacedHelpers</code>è¾…åŠ©å‡½æ•°</p><p>åˆ›å»ºåŸºäºæŸä¸ªå‘½åç©ºé—´è¾…åŠ©å‡½æ•°ã€‚å®ƒè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡é‡Œæœ‰æ–°çš„ç»‘å®šåœ¨ç»™å®šå‘½åç©ºé—´å€¼ä¸Šçš„ç»„ä»¶ç»‘å®šè¾…åŠ©å‡½æ•°</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createNamespacedHelpers &#125; <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"><span class="keyword">const</span> &#123; mapState, mapGetters&#125; = <span class="title function_">createNamespacedHelpers</span>(<span class="string">&quot;home&quot;</span>)</span><br><span class="line"></span><br><span class="line">...<span class="title function_">mapState</span>([<span class="string">&quot;homeCounter&quot;</span>])</span><br></pre></td></tr></table></figure><p><strong>setupä¸­ä½¿ç”¨</strong></p><p>ä¿®æ”¹ä¹‹å‰çš„ hooksï¼Œ<strong>useState</strong>ï¼Œ<strong>useGetters</strong>ï¼Œè€ƒè™‘æ¨¡å—çš„æƒ…å†µ</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; mapState, createNamespacedHelpers&#125; <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; useMapper &#125; <span class="keyword">from</span> <span class="string">&#x27;./useMapper&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">useState</span>(<span class="params">moduleName, mapper</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> mapperFn = mapState</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> moduleName === <span class="string">&#x27;string&#x27;</span> &amp;&amp; moduleName.<span class="property">length</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    mapperFn = <span class="title function_">createNamespacedHelpers</span>(moduleName).<span class="property">mapState</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    mapper = moduleName</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">useMapper</span>(mapper, mapperFn)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>// useGettersåŒç†</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; mapGetters, createNamespacedHelpers &#125; <span class="keyword">from</span> <span class="string">&quot;vuex&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; useMapper &#125; <span class="keyword">from</span> <span class="string">&quot;./useMapper&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">useGetters</span>(<span class="params">moduleName, mapper</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> mapperFn = mapGetters</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> moduleName === <span class="string">&#x27;string&#x27;</span> &amp;&amp; moduleName.<span class="property">length</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    mapperFn = <span class="title function_">createNamespacedHelpers</span>(moduleName).<span class="property">mapGetters</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    mapper = moduleName</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">useMapper</span>(mapper, mapperFn)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ï¼š</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">setup</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> state = <span class="title function_">useState</span>([<span class="string">&quot;rootCounter&quot;</span>])</span><br><span class="line">  <span class="keyword">const</span> rootGetters = <span class="title function_">useGetters</span>([<span class="string">&quot;doubleRootCounter&quot;</span>])</span><br><span class="line">  <span class="keyword">const</span> getters = <span class="title function_">useGetters</span>(<span class="string">&quot;home&quot;</span>, [<span class="string">&quot;doubleHomeCounter&quot;</span>])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">æ–‡ç« ä½œè€…: </span><span class="post-copyright-info"><a href="mailto:undefined">Hillyee</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">æ–‡ç« é“¾æ¥: </span><span class="post-copyright-info"><a href="https://hillyee.github.io/2022/04/07/%E5%AD%A6%E4%B9%A0Vuex/">https://hillyee.github.io/2022/04/07/%E5%AD%A6%E4%B9%A0Vuex/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥è‡ª <a href="https://hillyee.github.io" target="_blank">Hillyee-blog</a>ï¼</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/vue3/">vue3</a><a class="post-meta__tags" href="/tags/vuex/">vuex</a></div><div class="post_share"><div class="social-share" data-image="https://vuex.vuejs.org/flow.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="next-post pull-full"><a href="/2022/04/04/%E5%89%8D%E7%AB%AF%E4%BA%BA%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E4%B9%8B%E8%B7%AF/"><img class="next-cover" src="https://img2.baidu.com/it/u=3970879732,527457078&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=440&amp;h=440" onerror='onerror=null,src="/img/404.jpg"' alt="cover of next post"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">å‰ç«¯äººçš„æ•°æ®ç»“æ„ä¸ç®—æ³•ä¹‹è·¯</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>ç›¸å…³æ¨è</span></div><div class="relatedPosts-list"><div><a href="/2022/03/31/Vue3%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A0/" title="Vue3æºç å­¦ä¹ "><img class="cover" src="https://img0.baidu.com/it/u=3270187559,3770262487&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=281" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2022-04-07</div><div class="title">Vue3æºç å­¦ä¹ </div></div></a></div></div></div><hr><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> è¯„è®º</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vuex%E7%9A%84%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86"><span class="toc-number">1.</span> <span class="toc-text">Vuexçš„çŠ¶æ€ç®¡ç†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#vuex%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.1.</span> <span class="toc-text">vuexä»‹ç»</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%89%E8%A3%85"><span class="toc-number">1.1.1.</span> <span class="toc-text">å®‰è£…</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8"><span class="toc-number">1.1.2.</span> <span class="toc-text">ä½¿ç”¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BAstore%EF%BC%88%E4%BB%93%E5%BA%93%EF%BC%89"><span class="toc-number">1.1.3.</span> <span class="toc-text">åˆ›å»ºstoreï¼ˆä»“åº“ï¼‰</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E4%B8%AD%E4%BD%BF%E7%94%A8store"><span class="toc-number">1.2.</span> <span class="toc-text">ç»„ä»¶ä¸­ä½¿ç”¨store</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#state"><span class="toc-number">1.3.</span> <span class="toc-text">state</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#mapState"><span class="toc-number">1.3.1.</span> <span class="toc-text">mapState</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#getters"><span class="toc-number">1.4.</span> <span class="toc-text">getters</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#mapGetters"><span class="toc-number">1.4.1.</span> <span class="toc-text">mapGetters</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%81%E8%A3%85useMapper"><span class="toc-number">1.5.</span> <span class="toc-text">å°è£…useMapper</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Mutations"><span class="toc-number">1.6.</span> <span class="toc-text">Mutations</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#mapMutations"><span class="toc-number">1.6.1.</span> <span class="toc-text">mapMutations</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#actions"><span class="toc-number">1.7.</span> <span class="toc-text">actions</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#mapActions"><span class="toc-number">1.7.1.</span> <span class="toc-text">mapActions</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#actions%E7%9A%84%E5%BC%82%E6%AD%A5%E6%93%8D%E4%BD%9C"><span class="toc-number">1.7.2.</span> <span class="toc-text">actionsçš„å¼‚æ­¥æ“ä½œ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#module"><span class="toc-number">1.8.</span> <span class="toc-text">module</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#module%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">1.8.1.</span> <span class="toc-text">moduleçš„åŸºæœ¬ä½¿ç”¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#module%E7%9A%84%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4"><span class="toc-number">1.8.2.</span> <span class="toc-text">moduleçš„å‘½åç©ºé—´</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#module%E4%BF%AE%E6%94%B9%E6%88%96%E6%B4%BE%E5%8F%91%E6%A0%B9%E7%BB%84%E4%BB%B6"><span class="toc-number">1.8.3.</span> <span class="toc-text">moduleä¿®æ”¹æˆ–æ´¾å‘æ ¹ç»„ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#module%E7%9A%84%E8%BE%85%E5%8A%A9%E5%87%BD%E6%95%B0"><span class="toc-number">1.8.4.</span> <span class="toc-text">moduleçš„è¾…åŠ©å‡½æ•°</span></a></li></ol></li></ol></li></ol></div></div></div></div></main><footer id="footer" style="background-image:url(https://vuex.vuejs.org/flow.png)"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By Hillyee</div><div class="framework-info"><span>æ¡†æ¶ </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>ä¸»é¢˜ </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="ç›´è¾¾è¯„è®º"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">æœ¬åœ°æœç´¢</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span> æ•°æ®åº“åŠ è½½ä¸­</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« " type="text"></div></div><hr><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>function loadValine(){function n(){new Valine(Object.assign({el:"#vcomment",appId:"K17ybwDJ17Flh4mBOnIeNCUW-gzGzoHsz",appKey:"sshkQAuti4qpWtrTV5y1WEPw",avatar:"monsterid",serverURLs:"",emojiMaps:"",path:window.location.pathname,visitor:!1},null))}"function"==typeof Valine?n():getScript("https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js").then(n)}function loadOtherComment(){loadValine()}setTimeout(loadValine,0)</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>