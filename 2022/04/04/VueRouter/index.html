<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>VueRouter | Hillyee-blog</title><meta name="keywords" content="vueè·¯ç”±"><meta name="author" content="Hillyee"><meta name="copyright" content="Hillyee"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="VueRouterè·¯ç”±ä½¿ç”¨ ç®€å•çš„ä»‹ç»ğŸ˜  è¿™ä¸€éƒ¨åˆ†äº†è§£ã€ç†è§£ä¸€ä¸‹ï¼ŒçŸ¥é“æœ‰å°±è¡Œ  åç«¯è·¯ç”±é˜¶æ®µï¼š  æœåŠ¡å™¨æ¸²æŸ“å¥½æ•´ä¸ªé¡µé¢ï¼Œå¹¶ä¸”å°†é¡µé¢è¿”å›ç»™å®¢æˆ·ç«¯ ä¸éœ€è¦å•ç‹¬åŠ è½½ä»»ä½•çš„jså’Œcss, å¯ä»¥ç›´æ¥äº¤ç»™æµè§ˆå™¨å±•ç¤º, è¿™æ ·ä¹Ÿæœ‰åˆ©äºSEOçš„ä¼˜åŒ– ä¸åˆ©äºç»´æŠ¤  å‰åç«¯åˆ†ç¦»é˜¶æ®µï¼š  åç«¯åªæä¾›APIæ¥è¿”å›æ•°æ®ï¼Œå‰ç«¯é€šè¿‡Ajaxè·å–æ•°æ®ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡JavaScriptå°†æ•°æ®æ¸²æŸ“åˆ°é¡µé¢ä¸­ å‰åç«¯è´£ä»»æ¸…æ™°ï¼Œåç«¯ä¸“æ³¨"><meta property="og:type" content="article"><meta property="og:title" content="VueRouter"><meta property="og:url" content="https://hillyee.github.io/2022/04/04/VueRouter/index.html"><meta property="og:site_name" content="Hillyee-blog"><meta property="og:description" content="VueRouterè·¯ç”±ä½¿ç”¨ ç®€å•çš„ä»‹ç»ğŸ˜  è¿™ä¸€éƒ¨åˆ†äº†è§£ã€ç†è§£ä¸€ä¸‹ï¼ŒçŸ¥é“æœ‰å°±è¡Œ  åç«¯è·¯ç”±é˜¶æ®µï¼š  æœåŠ¡å™¨æ¸²æŸ“å¥½æ•´ä¸ªé¡µé¢ï¼Œå¹¶ä¸”å°†é¡µé¢è¿”å›ç»™å®¢æˆ·ç«¯ ä¸éœ€è¦å•ç‹¬åŠ è½½ä»»ä½•çš„jså’Œcss, å¯ä»¥ç›´æ¥äº¤ç»™æµè§ˆå™¨å±•ç¤º, è¿™æ ·ä¹Ÿæœ‰åˆ©äºSEOçš„ä¼˜åŒ– ä¸åˆ©äºç»´æŠ¤  å‰åç«¯åˆ†ç¦»é˜¶æ®µï¼š  åç«¯åªæä¾›APIæ¥è¿”å›æ•°æ®ï¼Œå‰ç«¯é€šè¿‡Ajaxè·å–æ•°æ®ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡JavaScriptå°†æ•°æ®æ¸²æŸ“åˆ°é¡µé¢ä¸­ å‰åç«¯è´£ä»»æ¸…æ™°ï¼Œåç«¯ä¸“æ³¨"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://router.vuejs.org/logo.png"><meta property="article:published_time" content="2022-04-04T09:12:34.000Z"><meta property="article:modified_time" content="2022-04-04T09:46:00.500Z"><meta property="article:author" content="Hillyee"><meta property="article:tag" content="vueè·¯ç”±"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://router.vuejs.org/logo.png"><link rel="shortcut icon" href="https://img2.baidu.com/it/u=2994714379,3709164052&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=506"><link rel="canonical" href="https://hillyee.github.io/2022/04/04/VueRouter/"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload='this.media="all"'><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"search.xml",languages:{hits_empty:"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}"}},translate:void 0,noticeOutdate:void 0,highlight:{plugin:"highlighjs",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:!1},copy:{success:"å¤åˆ¶æˆåŠŸ",error:"å¤åˆ¶é”™è¯¯",noSupport:"æµè§ˆå™¨ä¸æ”¯æŒ"},relativeDate:{homepage:!1,post:!1},runtime:"",date_suffix:{just:"åˆšåˆš",min:"åˆ†é’Ÿå‰",hour:"å°æ—¶å‰",day:"å¤©å‰",month:"ä¸ªæœˆå‰"},copyright:void 0,lightbox:"fancybox",Snackbar:void 0,source:{justifiedGallery:{js:"https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js",css:"https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css"}},isPhotoFigcaption:!1,islazyload:!1,isAnchor:!1}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"VueRouter",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2022-04-04 17:46:00"}</script><noscript><style type="text/css">#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(e=>{e.saveToLocal={set:function(e,t,o){if(0!==o){const a=new Date;o=864e5*o,t={value:t,expiry:a.getTime()+o};localStorage.setItem(e,JSON.stringify(t))}},get:function(e){var t=localStorage.getItem(e);if(t){t=JSON.parse(t);const o=new Date;if(!(o.getTime()>t.expiry))return t.value;localStorage.removeItem(e)}}},e.getScript=a=>new Promise((t,e)=>{const o=document.createElement("script");o.src=a,o.async=!0,o.onerror=e,o.onload=o.onreadystatechange=function(){var e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(o.onload=o.onreadystatechange=null,t())},document.head.appendChild(o)}),e.activateDarkMode=function(){document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},e.activateLightMode=function(){document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};e=saveToLocal.get("theme"),"dark"===e?activateDarkMode():"light"===e&&activateLightMode(),e=saveToLocal.get("aside-status");void 0!==e&&("hide"===e?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><meta name="generator" content="Hexo 6.1.0"><link rel="alternate" href="/atom.xml" title="Hillyee-blog" type="application/atom+xml"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://img0.baidu.com/it/u=752629441,1211736544&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=500&amp;h=500" onerror='onerror=null,src="/img/friend_404.gif"' alt="avatar"></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">18</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">7</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">7</div></a></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> ğŸ™†é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fas fa-list"></i><span> ğŸ¹ç›®å½•</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> ğŸ™ˆåˆ†ç±»</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> ğŸ±æ ‡ç­¾</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> ğŸŒæ—¶é—´è½´</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> ğŸ¥©å…³äº</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url(https://router.vuejs.org/logo.png)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Hillyee-blog</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> æœç´¢</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> ğŸ™†é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fas fa-list"></i><span> ğŸ¹ç›®å½•</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> ğŸ™ˆåˆ†ç±»</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> ğŸ±æ ‡ç­¾</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> ğŸŒæ—¶é—´è½´</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> ğŸ¥©å…³äº</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">VueRouter</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2022-04-04T09:12:34.000Z" title="å‘è¡¨äº 2022-04-04 17:12:34">2022-04-04</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2022-04-04T09:46:00.500Z" title="æ›´æ–°äº 2022-04-04 17:46:00">2022-04-04</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%B7%B1%E5%85%A5Vue3-Typescript%E5%AD%A6%E4%B9%A0/">æ·±å…¥Vue3+Typescriptå­¦ä¹ </a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">å­—æ•°æ€»è®¡:</span><span class="word-count">2.6k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»æ—¶é•¿:</span><span>10åˆ†é’Ÿ</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" data-flag-title="VueRouter"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p>VueRouterè·¯ç”±ä½¿ç”¨</p><h3 id="ç®€å•çš„ä»‹ç»ğŸ˜">ç®€å•çš„ä»‹ç»ğŸ˜</h3><blockquote><p>è¿™ä¸€éƒ¨åˆ†äº†è§£ã€ç†è§£ä¸€ä¸‹ï¼ŒçŸ¥é“æœ‰å°±è¡Œ</p></blockquote><p>åç«¯è·¯ç”±é˜¶æ®µï¼š</p><ul><li>æœåŠ¡å™¨æ¸²æŸ“å¥½æ•´ä¸ªé¡µé¢ï¼Œå¹¶ä¸”å°†é¡µé¢è¿”å›ç»™å®¢æˆ·ç«¯</li><li>ä¸éœ€è¦å•ç‹¬åŠ è½½ä»»ä½•çš„jså’Œcss, å¯ä»¥ç›´æ¥äº¤ç»™æµè§ˆå™¨å±•ç¤º, è¿™æ ·ä¹Ÿæœ‰åˆ©äºSEOçš„ä¼˜åŒ–</li><li>ä¸åˆ©äºç»´æŠ¤</li></ul><p>å‰åç«¯åˆ†ç¦»é˜¶æ®µï¼š</p><ul><li>åç«¯åªæä¾›APIæ¥è¿”å›æ•°æ®ï¼Œå‰ç«¯é€šè¿‡Ajaxè·å–æ•°æ®ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡JavaScriptå°†æ•°æ®æ¸²æŸ“åˆ°é¡µé¢ä¸­</li><li>å‰åç«¯è´£ä»»æ¸…æ™°ï¼Œåç«¯ä¸“æ³¨äºæ•°æ®ä¸Šï¼Œå‰ç«¯ä¸“æ³¨äºäº¤äº’å’Œå¯è§†åŒ–ä¸Š</li></ul><p>å‰ç«¯è·¯ç”±æ˜¯å¦‚ä½•åšåˆ°URLå’Œå†…å®¹è¿›è¡Œæ˜ å°„å‘¢ï¼Ÿç›‘å¬URLçš„æ”¹å˜</p><h4 id="URLçš„hash">URLçš„hash</h4><p>URLçš„hashä¹Ÿå°±æ˜¯é”šç‚¹(#), æœ¬è´¨ä¸Šæ˜¯æ”¹å˜window.locationçš„hrefå±æ€§</p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ç›´æ¥èµ‹å€¼location.hashæ¥æ”¹å˜href, ä½†æ˜¯é¡µé¢ä¸å‘ç”Ÿåˆ·æ–°</p><p>(é¡µé¢ä¸€æ—¦åˆ·æ–°ï¼Œåˆä¼šå‘æœåŠ¡å™¨å‘è¯·æ±‚)</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#/home&quot;</span>&gt;</span>home<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#/about&quot;</span>&gt;</span>about<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span>&gt;</span>Default<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> contentEl = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.content&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;hashchange&quot;</span>, <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">switch</span>(location.<span class="property">hash</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">case</span> <span class="string">&quot;#/home&quot;</span>: </span></span><br><span class="line"><span class="language-javascript">                contentEl.<span class="property">innerHTML</span> = <span class="string">&quot;Home&quot;</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">break</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">case</span> <span class="string">&quot;#/about&quot;</span>: </span></span><br><span class="line"><span class="language-javascript">                contentEl.<span class="property">innerHTML</span> = <span class="string">&quot;About&quot;</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">break</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br></pre></td></tr></table></figure><p>hashçš„ä¼˜åŠ¿å°±æ˜¯å…¼å®¹æ€§æ›´å¥½ï¼Œåœ¨è€ç‰ˆIEä¸­éƒ½å¯ä»¥è¿è¡Œï¼Œä½†æ˜¯ç¼ºé™·æ˜¯æœ‰ä¸€ä¸ª#ï¼Œæ˜¾å¾—ä¸åƒä¸€ä¸ªçœŸå®çš„è·¯å¾„</p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2338dd9e294d475d98d18814fc6a9759~tplv-k3u1fbpfcp-watermark.image?" alt="image.png" style="zoom:50%"><h4 id="HTML5çš„History">HTML5çš„History</h4><p>historyæ¥å£æ˜¯HTML5æ–°å¢çš„, å®ƒæœ‰å…­ç§æ¨¡å¼æ”¹å˜URLè€Œä¸åˆ·æ–°é¡µé¢ï¼š</p><p>replaceStateï¼šæ›¿æ¢åŸæ¥çš„è·¯å¾„</p><p>pushStateï¼šä½¿ç”¨æ–°çš„è·¯å¾„ï¼ˆå‹æ ˆï¼‰</p><p>popStateï¼šè·¯å¾„çš„å›é€€ï¼ˆå¼¹æ ˆï¼‰</p><p>goï¼šå‘å‰æˆ–å‘åæ”¹å˜è·¯å¾„ go(1)å‰è¿›1æ­¥ï¼Œgo(2)ï¼Œå‰è¿›ä¸¤æ­¥ï¼Œgo(-1)ï¼Œåé€€ä¸€æ­¥</p><p>forwardï¼šå‘å‰ä¸€æ­¥</p><p>backï¼šåé€€ä¸€æ­¥</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/home&quot;</span>&gt;</span>home<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/about&quot;</span>&gt;</span>about<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span>&gt;</span>Default<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> contentEl = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.content&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> <span class="title function_">changeContent</span> = (<span class="params"></span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">switch</span>(location.<span class="property">pathname</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">case</span> <span class="string">&quot;/home&quot;</span>:</span></span><br><span class="line"><span class="language-javascript">        contentEl.<span class="property">innerHTML</span> = <span class="string">&quot;Home&quot;</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">break</span></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">case</span> <span class="string">&quot;/about&quot;</span>:</span></span><br><span class="line"><span class="language-javascript">        contentEl.<span class="property">innerHTML</span> = <span class="string">&quot;About&quot;</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">break</span></span></span><br><span class="line"><span class="language-javascript">      <span class="attr">default</span>: </span></span><br><span class="line"><span class="language-javascript">        contentEl.<span class="property">innerHTML</span> = <span class="string">&quot;Default&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> aEls = <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;a&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">for</span> (<span class="keyword">let</span> aEl <span class="keyword">of</span> aEls) &#123;</span></span><br><span class="line"><span class="language-javascript">    aEl.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="function"><span class="params">e</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">      e.<span class="title function_">preventDefault</span>() <span class="comment">// é˜»æ­¢é»˜è®¤è¡Œä¸º</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> href = aEl.<span class="title function_">getAttribute</span>(<span class="string">&quot;href&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// history.replaceState(&#123;&#125;, &quot;&quot;, href)</span></span></span><br><span class="line"><span class="language-javascript">      history.<span class="title function_">pushState</span>(&#123;&#125;, <span class="string">&quot;&quot;</span>, href)</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">changeContent</span>()</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript">  <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;popstate&quot;</span>, changeContent)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/dce1fff5aaeb47de851682528df97530~tplv-k3u1fbpfcp-watermark.image?" alt="image.png" style="zoom:50%"><h3 id="vue-routerğŸ“±">vue-routerğŸ“±</h3><p>Vue Router æ˜¯ Vue.js çš„å®˜æ–¹è·¯ç”±ï¼Œä¾¿äºæ„å»ºå•é¡µé¢åº”ç”¨</p><h4 id="ä½¿ç”¨vue-router">ä½¿ç”¨vue-router</h4><ul><li>å®‰è£… Vue Router</li></ul><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">npm install vue-router</span><br></pre></td></tr></table></figure><ul><li>è·¯ç”±çš„ä½¿ç”¨æ­¥éª¤</li></ul><ol><li><p>åˆ›å»ºè·¯ç”±ç»„ä»¶</p></li><li><p>é…ç½®è·¯ç”±æ˜ å°„ã€åˆ›å»ºè·¯ç”±å¯¹è±¡</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createRouter, createWebHashHistory, createWebHistory &#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Home</span> <span class="keyword">from</span> <span class="string">&#x27;../pages/Home.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">About</span> <span class="keyword">from</span> <span class="string">&#x27;../pages/About.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// é…ç½®æ˜ å°„å…³ç³»</span></span><br><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/home&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="title class_">Home</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/about&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="title class_">About</span></span><br><span class="line">  &#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªè·¯ç”±å¯¹è±¡router</span></span><br><span class="line"><span class="keyword">const</span> router = <span class="title function_">createRouter</span>(&#123;</span><br><span class="line">  routes,</span><br><span class="line">  <span class="comment">// ä½¿ç”¨è·¯ç”±çš„æ¨¡å¼ï¼Œhash / history</span></span><br><span class="line">  <span class="attr">history</span>: <span class="title function_">createWebHistory</span>()</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æœ€åå¯¼å‡º</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br></pre></td></tr></table></figure></li><li><p>åœ¨å…¨å±€main.jsä¸­æ³¨å†Œè·¯ç”±</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;./router&#x27;</span></span><br><span class="line"><span class="comment">// æ³¨å†Œè·¯ç”±</span></span><br><span class="line">vue.<span class="title function_">use</span>(router)</span><br></pre></td></tr></table></figure></li><li><p>ä½¿ç”¨è·¯ç”±ï¼š<code>&lt;router-link&gt;</code> <code>&lt;router-view&gt;</code></p><p>è¿™ç§<code>&lt;router-link to&gt;</code>å« <strong>å£°æ˜å¼å¯¼èˆª</strong></p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/home&quot;</span>&gt;</span>é¦–é¡µ<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/about&quot;</span>&gt;</span>å…³äº<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ol><h4 id="è·¯ç”±é‡å®šå‘">è·¯ç”±é‡å®šå‘</h4><p>å¯¹ â€˜/â€™ è¿™ä¸ªè·¯å¾„ï¼Œé‡å®šå‘åˆ°â€™/homeâ€™</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">path</span>: <span class="string">&#x27;/&#x27;</span>, </span><br><span class="line">  <span class="comment">// é‡å®šå‘</span></span><br><span class="line">  <span class="attr">redirect</span>: <span class="string">&#x27;/home&#x27;</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>è·¯ç”±è¿˜æœ‰å…¶ä»–å±æ€§</p><ul><li>nameï¼šç»™æŸä¸ªè·¯ç”±èµ·ç‹¬ä¸€æ— äºŒçš„åå­—</li><li>metaï¼šé…ç½®ä¸€äº›å‚æ•°ï¼Œè¢«ä¸€èµ·å¸¦åˆ°routerå¯¹è±¡ä¸­</li></ul><h4 id="è·¯ç”±æ‡’åŠ è½½">è·¯ç”±æ‡’åŠ è½½</h4><p>æŠŠä¸åŒè·¯ç”±å¯¹åº”çš„ç»„ä»¶åˆ†å‰²æˆä¸åŒçš„ä»£ç å—ï¼Œç„¶åå½“è·¯ç”±è¢«è®¿é—®çš„æ—¶å€™æ‰åŠ è½½å¯¹åº”ç»„ä»¶</p><p>å¥½å¤„ï¼šæé«˜é¦–å±çš„æ¸²æŸ“æ•ˆç‡</p><p>å®é™…å°±æ˜¯webpackçš„åˆ†åŒ…ï¼Œè€ŒVue Routeré»˜è®¤å°±æ”¯æŒåŠ¨æ€æ¥å¯¼å…¥ç»„ä»¶</p><ul><li>è¿™æ˜¯å› ä¸ºcomponentå¯ä»¥ä¼ å…¥ä¸€ä¸ªç»„ä»¶ï¼Œä¹Ÿå¯ä»¥æ¥æ”¶ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°éœ€è¦è¿”å›ä¸€ä¸ªPromise</li><li>è€Œimportå‡½æ•°å°±æ˜¯è¿”å›ä¸€ä¸ªPromise</li></ul><p>ä¸é‡‡ç”¨ç›´æ¥<code>import Home from '../pages/Home.vue'</code>çš„æ–¹å¼</p><p>å¦å¤–è¿˜å¯ä»¥å¯¹åˆ†åŒ…å‘½åï¼š<code>/*webpackChunkName: &quot;xxx&quot;*/</code></p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/home&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="title function_">import</span>(<span class="string">&quot;../pages/Home.vue&quot;</span>)</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/about&#x27;</span>,</span><br><span class="line">    <span class="comment">// è¿˜å¯ä»¥å¯¹åˆ†åŒ…å‘½å</span></span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="title function_">import</span>(<span class="comment">/*webpackChunkName: &quot;ahout-chunk&quot; */</span><span class="string">&quot;../pages/About.vue&quot;</span>)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>æ‰“åŒ…åçš„æ•ˆæœ</p><img src="D:/web_a/typora%E5%9B%BE%E7%89%87/image-20220403210524089.png" alt="image-20220403210524089" style="zoom:60%"><h4 id="router-linkçš„å±æ€§">router-linkçš„å±æ€§</h4><ul><li><p>toï¼šå­—ç¬¦ä¸²ï¼ˆâ€˜/homeâ€™ï¼‰æˆ–è€…å¯¹è±¡ï¼ˆé…ç½®è·¯å¾„+å‚æ•°ï¼‰</p></li><li><p>replaceï¼šæ›¿ä»£</p><p>è®¾ç½® replace å±æ€§çš„è¯ï¼Œå½“ç‚¹å‡»æ—¶ï¼Œä¼šè°ƒç”¨ router.replace()ï¼Œè€Œä¸æ˜¯ router.push()</p></li><li><p>active-classå±æ€§ï¼šå¯ä»¥åœ¨è¿™ä¸ªclassåŠ æ ·å¼å•¥çš„</p><p>è®¾ç½®æ¿€æ´»aå…ƒç´ ååº”ç”¨çš„classï¼Œé»˜è®¤æ˜¯router-link-active(ä¸€èˆ¬ ä¸å»ä¿®æ”¹)</p></li><li><p>exact-active-classå±æ€§</p><p>é“¾æ¥ç²¾å‡†æ¿€æ´»æ—¶ï¼Œåº”ç”¨äºæ¸²æŸ“çš„ çš„ classï¼Œé»˜è®¤æ˜¯router-link-exact-active</p><p>åœ¨åµŒå¥—è·¯ç”±ä¸­ï¼Œä¾‹å¦‚æœ‰ä¸€ä¸ªåµŒå¥—è·¯ç”±æ˜¯ï¼š/home/message é‚£ä¹ˆè¿™ä¸ªclassåªä¼šåœ¨messageé‚£ä¸ªå­è·¯ç”±ä¸­</p></li></ul><h4 id="åŠ¨æ€è·¯ç”±">åŠ¨æ€è·¯ç”±</h4><p>åŠ¨æ€ï¼Œå³è¿™ä¸ªè·¯ç”±çš„è·¯å¾„æ˜¯åŠ¨æ€æ”¹å˜çš„</p><p>åœ¨Vue Routerä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è·¯å¾„ä¸­ä½¿ç”¨ä¸€ä¸ªåŠ¨æ€å­—æ®µæ¥å®ç°ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºè·¯å¾„å‚æ•°</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">   <span class="attr">path</span>: <span class="string">&#x27;/user/:username/id/:id&#x27;</span>,</span><br><span class="line">   <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="title function_">import</span>(<span class="string">&quot;../pages/User.vue&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>:username? åŠ ï¼Ÿè¡¨ç¤ºå¯æœ‰å¯æ— ï¼Œå¦åˆ™å¿…é¡»æœ‰</p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/82dd5687c9ad49d7932878f443e5319d~tplv-k3u1fbpfcp-watermark.image?" alt="image.png" style="zoom:60%"><p>å¦‚ä½•è·å–åŠ¨æ€è·¯ç”±çš„å€¼ï¼Ÿ</p><p>åœ¨templateä¸­ï¼š<code>$route.params</code></p><p>åœ¨createdä¸­ï¼š<code>this.$route.params</code></p><p>åœ¨setupä¸­ï¼šè¦ä½¿ç”¨ vue-routeråº“ç»™æˆ‘ä»¬æä¾›çš„ä¸€ä¸ªhook <strong>useRoute</strong></p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;useRoute&#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="title function_">setup</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// ç›´æ¥è°ƒç”¨useRoute()ï¼Œä¼šè¿”å›ä¸€ä¸ªè·¯ç”±å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">const</span> route = <span class="title function_">useRoute</span>()</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(route);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(route.<span class="property">params</span>);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h4 id="NotFound">NotFound</h4><p>å¯¹äºé‚£äº›æ²¡æœ‰åŒ¹é…åˆ°çš„è·¯ç”±ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šåŒ¹é…åˆ°å›ºå®šçš„æŸä¸ªé¡µé¢</p><p>å¯ç¼–å†™ä¸€ä¸ªåŠ¨æ€è·¯ç”±ç”¨äºåŒ¹é…æ‰€æœ‰çš„é¡µé¢</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">   <span class="attr">path</span>: <span class="string">&#x27;/:pathMath(.*)&#x27;</span>, <span class="comment">// ç”¨åˆ°æ­£åˆ™ .*åŒ¹é…ä»»æ„å­—ç¬¦0æˆ–å¤šä¸ª</span></span><br><span class="line">   <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="title function_">import</span>(<span class="string">&quot;../pages/NotFound.vue&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥é€šè¿‡<code>$route.params.pathMath</code>è·å–ä¼ å…¥çš„å‚æ•°</p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3ad95ddeb9fd4b9fbf2cf6d647adb023~tplv-k3u1fbpfcp-watermark.image?" alt="image.png" style="zoom:67%"><p>è¿˜æœ‰ä¸€ç§å†™æ³•</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/:pathMath(.*)*&#x27;</span> <span class="comment">// è¿™é‡Œå¤šåŠ ä¸€ä¸ª*</span></span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="title function_">import</span>(<span class="string">&quot;../pages/NotFound.vue&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åŒºåˆ«åœ¨äºè§£æçš„æ—¶å€™ï¼Œæ˜¯å¦è§£æ /ï¼š</p><p>æŠŠè·¯å¾„ä¸­çš„/â€¦/ åˆ†æˆä¸€ä¸ªä¸ªçš„</p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7701324e163b43c9a42c24b89deefe4f~tplv-k3u1fbpfcp-watermark.image?" alt="image.png" style="zoom:67%"><h4 id="è·¯ç”±çš„åµŒå¥—">è·¯ç”±çš„åµŒå¥—</h4><p>æŸä¸ªè·¯ç”±é¡µé¢æœ¬èº«ä¹Ÿå­˜åœ¨è·¯ç”±çš„æ¥å›åˆ‡æ¢</p><p>é…ç½®å­è·¯ç”±ï¼ŒåŒæ ·åœ¨homeä¸­ä½¿ç”¨router-link,router-view</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">path</span>: <span class="string">&#x27;/home&#x27;</span>,</span><br><span class="line">  <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="title function_">import</span>(<span class="string">&quot;../pages/Home.vue&quot;</span>),</span><br><span class="line">  <span class="attr">children</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">path</span>: <span class="string">&#x27;message&#x27;</span>, <span class="comment">// è¿™é‡Œä¸éœ€è¦/</span></span><br><span class="line">      <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="title function_">import</span>(<span class="string">&quot;../pages/Message.vue&quot;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">path</span>: <span class="string">&#x27;goods&#x27;</span>,</span><br><span class="line">      <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="title function_">import</span>(<span class="string">&quot;../pages/Goods.vue&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ç¼–ç¨‹å¼è·¯ç”±">ç¼–ç¨‹å¼è·¯ç”±</h4><p>ä¸é€šè¿‡router-linkçš„æ–¹å¼å®ç°è·³è½¬ï¼Œæ¯”å¦‚ç‚¹å‡»çš„æ˜¯ä¸€ä¸ªæŒ‰é’®ç­‰</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">setup</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// è·å–routerå¯¹è±¡</span></span><br><span class="line">  <span class="keyword">const</span> router = <span class="title function_">useRouter</span>()</span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">gotoMessage</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    router.<span class="title function_">push</span>(<span class="string">&#x27;/home/message&#x27;</span>) <span class="comment">// å¯ä»¥ç›´æ¥ä¼ å­—ç¬¦ä¸²</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">gotoGoods</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    router.<span class="title function_">push</span>(&#123;</span><br><span class="line">      <span class="attr">path</span>: <span class="string">&#x27;/home/goods&#x27;</span> <span class="comment">// ä¹Ÿå¯ä»¥æ˜¯å¯¹è±¡</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦å¤–è¿˜æœ‰ router.replaceã€router.goã€backã€forward</p><p>vue2ä¸­ï¼š<code>this.$router.push</code></p><h4 id="query-æŸ¥è¯¢-æ–¹å¼çš„å‚æ•°">query(æŸ¥è¯¢)æ–¹å¼çš„å‚æ•°</h4><p>ä¼ é€’queryå‚æ•°ï¼š</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">router.<span class="title function_">push</span>(&#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/home/goods&#x27;</span>,</span><br><span class="line">    <span class="attr">query</span>:&#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;hello&#x27;</span>,</span><br><span class="line">        <span class="attr">age</span>: <span class="number">18</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>åœ¨å¯¹åº”é¡µé¢ä¸­è·å–queryå‚æ•°ï¼š</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;$route.query.name&#125;&#125;---&#123;&#123;$route.query.age&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="router-linkçš„v-slot">router-linkçš„v-slot</h4><blockquote><p>ç”¨åˆ°æŸ¥æ–‡æ¡£å°±å¥½</p></blockquote><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- v-slotå¯ä»¥æ‹¿åˆ°router-linkç»™æˆ‘ä»¬ä¼ é€’è¿‡æ¥çš„å±æ€§(å¯ä»¥è‡ªå·±å‘½å props)</span></span><br><span class="line"><span class="comment">custom:è¡¨ç¤ºè‡ªå®šä¹‰router-linkï¼Œå¤–éƒ¨ä¸ä¼šç»™æˆ‘ä»¬åŒ…è£¹aå…ƒç´ äº†</span></span><br><span class="line"><span class="comment">props.navigateï¼šæ‰€ä»¥å½“æˆ‘ä»¬æƒ³ç‚¹å‡»æŸä¸ªå…ƒç´ è·³è½¬çš„æ—¶å€™å¯ä»¥ä½¿ç”¨navigate(å½“ç„¶ç”¨ç¼–ç¨‹å¼å¯¼èˆªä¹Ÿæ˜¯å¯ä»¥çš„)</span></span><br><span class="line"><span class="comment">props.routeï¼šè·¯ç”±å¯¹è±¡</span></span><br><span class="line"><span class="comment">props.href: è§£æåçš„url</span></span><br><span class="line"><span class="comment">props: isActive æ˜¯å¦å½“å‰å¤„äºæ´»è·ƒçš„çŠ¶æ€ (true,false)</span></span><br><span class="line"><span class="comment">props: isExactActive æ˜¯å¦å½“å‰å¤„äºç²¾ç¡®çš„æ´»è·ƒçŠ¶æ€ </span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/home&quot;</span> <span class="attr">v-slot</span>=<span class="string">&quot;props&quot;</span> <span class="attr">custom</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>é¦–é¡µ<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>href: &#123;&#123;props.href&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;props.navigate&quot;</span>&gt;</span>è·³è½¬home<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;props.route&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">:class</span>=<span class="string">&quot;&#123;&#x27;active&#x27;: props.isActive&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">:class</span>=<span class="string">&quot;&#123;&#x27;active&#x27;: props.isActive&#125;&quot;</span>&gt;</span>&#123;&#123;props.isExactActive&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="router-viewçš„v-slot">router-viewçš„v-slot</h4><p>router-viewä¹Ÿæä¾›ç»™æˆ‘ä»¬ä¸€ä¸ªæ’æ§½ï¼Œå¯ä»¥ç”¨äº<code>&lt;transition&gt;</code>å’Œ<code>&lt;keep-alive&gt;</code>ç»„ä»¶æ¥åŒ…è£¹ä½ çš„è·¯ç”±ç»„ä»¶ï¼ˆç”¨äºåŠ åŠ¨ç”»ï¼Œç¼“å­˜ï¼‰</p><p>Componentï¼šè¦æ¸²æŸ“çš„ç»„ä»¶</p><p>routeï¼šè§£æå‡ºçš„æ ‡å‡†åŒ–è·¯ç”±å¯¹è±¡</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">router-view</span> <span class="attr">v-slot</span>=<span class="string">&quot;props&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">transition</span> <span class="attr">name</span>=<span class="string">&quot;abc&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- å¯ä»¥æ‹¿åˆ°router-viewç»™æˆ‘ä»¬ä¼ è¿‡æ¥çš„ç»„ä»¶ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">keep-alive</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">component</span> <span class="attr">:is</span>=<span class="string">&quot;props.Component&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">component</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">keep-alive</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">transition</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="åŠ¨æ€æ·»åŠ è·¯ç”±">åŠ¨æ€æ·»åŠ è·¯ç”±</h4><p>æ¯”å¦‚è¯´æˆ‘ä»¬è¦æ ¹æ®ä¸åŒçš„æƒé™æ¥å†³å®šæ˜¯å¦æ·»åŠ è·¯ç”±</p><p>è·¯ç”±å¯¹è±¡routerä¸Šæœ‰æ–¹æ³•ï¼šaddRoute()åŠ¨æ€æ·»åŠ è·¯ç”±</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰è¦æ·»åŠ çš„åŠ¨æ€è·¯ç”±ï¼ˆå¯ä»¥å…ˆå®šä¹‰</span></span><br><span class="line"><span class="keyword">const</span> momentRoute = &#123;</span><br><span class="line">  <span class="attr">path</span>: <span class="string">&#x27;/moment&#x27;</span>,</span><br><span class="line">  <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="title function_">import</span>(<span class="string">&quot;../pages/HomeMoment.vue&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line">router.<span class="title function_">addRoute</span>(momentRoute)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¹Ÿå¯ä»¥æ·»åŠ çš„æ—¶å€™ä½œä¸ºaddRouteçš„ç¬¬äºŒä¸ªå‚æ•°ï¼‰</span></span><br><span class="line"><span class="comment">// ç»™homeåŠ¨æ€æ·»åŠ å­è·¯ç”±cart è·¯å¾„:/home/cart</span></span><br><span class="line">router.<span class="title function_">addRoute</span>(<span class="string">&#x27;home&#x27;</span>, &#123;</span><br><span class="line">  <span class="attr">path</span>: <span class="string">&#x27;cart&#x27;</span>,</span><br><span class="line">  <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="title function_">import</span>(<span class="string">&quot;../pages/Cart.vue&quot;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="åŠ¨æ€åˆ é™¤è·¯ç”±">åŠ¨æ€åˆ é™¤è·¯ç”±</h4><p>ä¸‰ç§æ–¹å¼ï¼š</p><ul><li>æ·»åŠ ä¸€ä¸ªåŒåè·¯ç”±ï¼Œç›¸å½“äºè¦†ç›–</li><li>é€šè¿‡removeRouteæ–¹æ³•ï¼Œä¼ å…¥è·¯ç”±çš„åç§°</li><li>é€šè¿‡addRouteæ–¹æ³•çš„è¿”å›å€¼å›è°ƒ</li></ul><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">router.<span class="title function_">addRoute</span>(&#123;<span class="attr">path</span>: <span class="string">&#x27;/about&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;about&#x27;</span>, <span class="attr">component</span>: <span class="title class_">About</span>&#125;)</span><br><span class="line"><span class="comment">// æ–¹å¼1</span></span><br><span class="line">router.<span class="title function_">addRoute</span>(&#123;<span class="attr">path</span>: <span class="string">&#x27;/other&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;about&#x27;</span>, <span class="attr">component</span>: <span class="title class_">Other</span>&#125;)</span><br><span class="line"><span class="comment">// æ–¹å¼2</span></span><br><span class="line">router.<span class="title function_">removeRoute</span>(<span class="string">&#x27;about&#x27;</span>)</span><br><span class="line"><span class="comment">// æ–¹å¼3</span></span><br><span class="line"><span class="keyword">const</span> removeRoute = router.<span class="title function_">addRoute</span>(&#123;<span class="attr">path</span>: <span class="string">&#x27;/about&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;about&#x27;</span>, <span class="attr">component</span>: <span class="title class_">About</span>&#125;)</span><br><span class="line"><span class="title function_">removeRoute</span>()</span><br></pre></td></tr></table></figure><p><strong>è·¯ç”±å…¶ä»–æ–¹æ³•è¡¥å……</strong></p><ul><li>router.hasRoute()ï¼šæ£€æŸ¥è·¯ç”±æ˜¯å¦å­˜åœ¨ã€‚</li><li>router.getRoutes()ï¼šè·å–ä¸€ä¸ªåŒ…å«æ‰€æœ‰è·¯ç”±è®°å½•çš„æ•°ç»„</li></ul><h3 id="è·¯ç”±å¯¼èˆªå®ˆå«ğŸ‘®">è·¯ç”±å¯¼èˆªå®ˆå«ğŸ‘®</h3><p>vue-router æä¾›çš„å¯¼èˆªå®ˆå«ä¸»è¦ç”¨æ¥é€šè¿‡è·³è½¬æˆ–å–æ¶ˆçš„æ–¹å¼å®ˆå«å¯¼èˆª</p><h4 id="å…¨å±€å‰ç½®å®ˆå«beforeEach">å…¨å±€å‰ç½®å®ˆå«beforeEach</h4><p>åœ¨å¯¼èˆªè§¦å‘æ—¶ä¼šè¢«å›è°ƒ</p><p>å®ƒæœ‰ä¸¤ä¸ªå‚æ•°ï¼š</p><ul><li>toï¼šå³å°†è¿›å…¥çš„è·¯ç”±å¯¹è±¡</li><li>fromï¼šå³å°†ç¦»å¼€çš„Routeå¯¹è±¡</li></ul><p>è¿”å›å€¼ï¼š</p><ul><li>falseï¼šå–æ¶ˆå½“å‰å¯¼èˆª</li><li>ä¸è¿”å›æˆ–è€…è¿”å›undefinedï¼šè¿›è¡Œé»˜è®¤å¯¼èˆª</li><li>è¿”å›ä¸€ä¸ªè·¯ç”±åœ°å€ï¼š<ul><li>è·¯å¾„å­—ç¬¦ä¸²ï¼šâ€˜/homeâ€™</li><li>å¯¹è±¡ï¼šç±»ä¼¼äº router.push({path: â€œ/loginâ€, query: â€¦})</li></ul></li></ul><p>å°æ¡ˆä¾‹ï¼šå¦‚æœæ²¡ç™»å½•å°±è·³è½¬åˆ°ç™»å½•é¡µé¢</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">router.<span class="title function_">beforeEach</span>(<span class="function">(<span class="params">to, <span class="keyword">from</span></span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (to.<span class="property">path</span> !== <span class="string">&#x27;/login&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> token = <span class="variable language_">window</span>.<span class="property">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;token&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span>(!token) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="string">&quot;/login&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;) </span><br></pre></td></tr></table></figure><blockquote><p>æ›´å¤šå¯¼èˆªå®ˆå«çœ‹å®˜ç½‘</p><p><a target="_blank" rel="noopener" href="https://router.vuejs.org/zh/guide/advanced/navigation-guards.html">https://router.vuejs.org/zh/guide/advanced/navigation-guards.html</a></p></blockquote><p><strong>å®Œæ•´çš„å¯¼èˆªè§£ææµç¨‹</strong></p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1054c2d5ce484b73bb273502b22db54b~tplv-k3u1fbpfcp-watermark.image?" alt="image.png" style="zoom:67%"></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">æ–‡ç« ä½œè€…: </span><span class="post-copyright-info"><a href="mailto:undefined">Hillyee</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">æ–‡ç« é“¾æ¥: </span><span class="post-copyright-info"><a href="https://hillyee.github.io/2022/04/04/VueRouter/">https://hillyee.github.io/2022/04/04/VueRouter/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥è‡ª <a href="https://hillyee.github.io" target="_blank">Hillyee-blog</a>ï¼</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/vue%E8%B7%AF%E7%94%B1/">vueè·¯ç”±</a></div><div class="post_share"><div class="social-share" data-image="https://router.vuejs.org/logo.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/04/04/%E5%89%8D%E7%AB%AF%E4%BA%BA%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E4%B9%8B%E8%B7%AF/"><img class="prev-cover" src="https://img2.baidu.com/it/u=3970879732,527457078&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=440&amp;h=440" onerror='onerror=null,src="/img/404.jpg"' alt="cover of previous post"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">å‰ç«¯äººçš„æ•°æ®ç»“æ„ä¸ç®—æ³•ä¹‹è·¯</div></div></a></div><div class="next-post pull-right"><a href="/2022/04/03/%E9%9A%8F%E7%AC%94/"><img class="next-cover" src="https://img0.baidu.com/it/u=3270187559,3770262487&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=500&amp;h=281" onerror='onerror=null,src="/img/404.jpg"' alt="cover of next post"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">éšç¬”âœ</div></div></a></div></nav><hr><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> è¯„è®º</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E7%9A%84%E4%BB%8B%E7%BB%8D%F0%9F%98%8F"><span class="toc-number">1.</span> <span class="toc-text">ç®€å•çš„ä»‹ç»ğŸ˜</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#URL%E7%9A%84hash"><span class="toc-number">1.1.</span> <span class="toc-text">URLçš„hash</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HTML5%E7%9A%84History"><span class="toc-number">1.2.</span> <span class="toc-text">HTML5çš„History</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#vue-router%F0%9F%93%B1"><span class="toc-number">2.</span> <span class="toc-text">vue-routerğŸ“±</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8vue-router"><span class="toc-number">2.1.</span> <span class="toc-text">ä½¿ç”¨vue-router</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">2.2.</span> <span class="toc-text">è·¯ç”±é‡å®šå‘</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E6%87%92%E5%8A%A0%E8%BD%BD"><span class="toc-number">2.3.</span> <span class="toc-text">è·¯ç”±æ‡’åŠ è½½</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#router-link%E7%9A%84%E5%B1%9E%E6%80%A7"><span class="toc-number">2.4.</span> <span class="toc-text">router-linkçš„å±æ€§</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E8%B7%AF%E7%94%B1"><span class="toc-number">2.5.</span> <span class="toc-text">åŠ¨æ€è·¯ç”±</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#NotFound"><span class="toc-number">2.6.</span> <span class="toc-text">NotFound</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E7%9A%84%E5%B5%8C%E5%A5%97"><span class="toc-number">2.7.</span> <span class="toc-text">è·¯ç”±çš„åµŒå¥—</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BC%96%E7%A8%8B%E5%BC%8F%E8%B7%AF%E7%94%B1"><span class="toc-number">2.8.</span> <span class="toc-text">ç¼–ç¨‹å¼è·¯ç”±</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#query-%E6%9F%A5%E8%AF%A2-%E6%96%B9%E5%BC%8F%E7%9A%84%E5%8F%82%E6%95%B0"><span class="toc-number">2.9.</span> <span class="toc-text">query(æŸ¥è¯¢)æ–¹å¼çš„å‚æ•°</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#router-link%E7%9A%84v-slot"><span class="toc-number">2.10.</span> <span class="toc-text">router-linkçš„v-slot</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#router-view%E7%9A%84v-slot"><span class="toc-number">2.11.</span> <span class="toc-text">router-viewçš„v-slot</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E6%B7%BB%E5%8A%A0%E8%B7%AF%E7%94%B1"><span class="toc-number">2.12.</span> <span class="toc-text">åŠ¨æ€æ·»åŠ è·¯ç”±</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E5%88%A0%E9%99%A4%E8%B7%AF%E7%94%B1"><span class="toc-number">2.13.</span> <span class="toc-text">åŠ¨æ€åˆ é™¤è·¯ç”±</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E5%AF%BC%E8%88%AA%E5%AE%88%E5%8D%AB%F0%9F%91%AE"><span class="toc-number">3.</span> <span class="toc-text">è·¯ç”±å¯¼èˆªå®ˆå«ğŸ‘®</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E5%89%8D%E7%BD%AE%E5%AE%88%E5%8D%ABbeforeEach"><span class="toc-number">3.1.</span> <span class="toc-text">å…¨å±€å‰ç½®å®ˆå«beforeEach</span></a></li></ol></li></ol></div></div></div></div></main><footer id="footer" style="background-image:url(https://router.vuejs.org/logo.png)"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By Hillyee</div><div class="framework-info"><span>æ¡†æ¶ </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>ä¸»é¢˜ </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="ç›´è¾¾è¯„è®º"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">æœ¬åœ°æœç´¢</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span> æ•°æ®åº“åŠ è½½ä¸­</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« " type="text"></div></div><hr><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>function loadValine(){function n(){new Valine(Object.assign({el:"#vcomment",appId:"K17ybwDJ17Flh4mBOnIeNCUW-gzGzoHsz",appKey:"sshkQAuti4qpWtrTV5y1WEPw",avatar:"monsterid",serverURLs:"",emojiMaps:"",path:window.location.pathname,visitor:!1},null))}"function"==typeof Valine?n():getScript("https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js").then(n)}function loadOtherComment(){loadValine()}setTimeout(loadValine,0)</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>